##  1. <a name=''></a>个人介绍
我的职业生涯分别涉足过饮食和洗护两个领域。食品领域，我先后作为数据分析师以及数据产品经历参与`隆小宝`，`熊鱼食社`和`福来食集`三个项目，它们分别代表线下门店、线上电商以及先下线上结合三种经营模式的探索，同时，它们都是[正大集团](https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%A4%A7%E9%9B%86%E5%9B%A2)子公司的项目。而洗护领域，我则作为数据产品经理参与[轻氧](http://www.qingyangkeji.cn/business)洗护平台的BI以及其它数据产品0到1的搭建工作，通过互联网为500多万用户以及100多万家庭提供过便捷的服务。

##  2. <a name='-1'></a>背景介绍
请注意，以下陈述内容所提供的数据截止于2020年2月。哈啰宝贝（北京）科技有限公司创建了中国大陆最大的物联网洗衣服务平台——轻氧，致力于为用户带来平价、省心的洗衣服务。

轻氧一共开辟了3条业务线：自助洗、高端洗和O2O。
- 自助洗业务在中国大陆高校、工厂以及酒店提供洗衣机、烘干机以及自动贩卖机，用户通过手机APP或者微信小程序即刻扫码选择服务下单。
- 高端洗业务在中国大陆主要城市的小区提供洗衣柜，用户可以在手机上预约服务，然后将衣服，鞋，窗帘等待洗物品放入洗衣柜中，往后快递员会将衣物取走送往工厂，待工厂清洗完毕后再返回干洗柜，用户只需扫码即刻开箱取件。
- O2O业务与高端洗相似，但是用户在家下单即可，会有快递员上门取货，待清洗干净之后，仍然会尊快递员上门送货。

自助洗累积服务用户500多万，高端洗以及O2O累积服务100多万家庭。

##  3. <a name='-1'></a>数据调研
轻氧数据仓库的数据调研包含2步：`业务调研`，`需求调研`。
###  3.1. <a name='-1'></a>业务调研
轻氧3条业务线的业务比较相似、相关性较大，所以我们进行统一集中设计。

|功能模块/业务线|自助洗|高端洗|O2O|
|:----|:----|:----|:----|
|设备管理|√|√| |
|用户管理|√|√|√|
|用户行为管理|√|√|√|
|商品管理|√| | |
|服务管理|√|√|√|
|活动管理|√|√|√|
|交易管理|√|√|√|
|销售人员管理|√|√| |
|采购人员管理|√| | |
|分拣人员管理| |√| |
|物流人员管理| |√|√|
|客服人员管理|√|√|√|
|运维人员管理|√|√| |
|合伙商管理|√|√|√|
|供应商管理|√| | |
|销售管理|√|√| |
|供应链管理|√| | |
|库存管理|√|√|√|
|物流管理|√|√|√|
|投诉与举报管理|√|√|√|
|运维管理|√|√| |
|评分管理|√|√|√|

###  3.2. <a name='-1'></a>需求调研
……
##  4. <a name='-1'></a>架构设计
架构设计先后共有2步：数据域划分，总线矩阵设计。
`数据域划分`来自于我们对的业务理解以及合理的拆解，而`需求调研`需要在业务调研之后配合各部门的需求进行分析。

###  4.1. <a name='-1'></a>数据域划分
数据域是指面向业务分析，将业务过程或者维度进行抽象的集合。业务过程可以概括为一个个不可拆分的行为事件，如下单、支付、退款。

|数据域|命名|业务过程|
|:----|:----|:----|
|日志域|log|曝光、浏览、点击|
|增长域|gwth|分享优惠券、扫码拉新、链接拉新|
|用户域|usr|注册、登录、充值、修改信息|
|活动域|mkt|商品收藏、服务收藏、优惠券领用|
|交易域|trans|放入购物车、下单、支付、确认收货、退货、退款|
|设备域|dev|安装、上线、下线、维护、升级、拆除、配置信息、修改信息|
|运维域|maint|派单、接单、提醒、维修完成、签收|
|加工域|prcs|签收、分拣、清洗、整理、挂架、打包|
|配送域|dlv|发货、签收|
|SKU域|sku|发布、上架、下架、类目修改、名称修改|
|供应商域|vend|新增供应商、供应商续约、供应商信息修改|
|销售域|sale|创建合伙商、修改合伙商信息、拜访、高意向、签单、续约、搁置、终止|
|采购域|proc|采购、发货、签收、入库|
|库存域|invt|入库、出库|
|售后域|serv|打分、发帖、回帖、评论、提醒|
|HR域|hr|新增雇员、修改雇员信息|

###  4.2. <a name='-1'></a>构建总线矩阵
在进行数据域划分后，我们构建总线矩阵。需要做两件事情：明确每个数据域下有哪些业务过程；业务过程与哪些维度相关，并定义每个数据域下的业务过程和维度。

![总线矩阵](.\轻氧数据仓库建设_I1AD59.jpg)

##  5. <a name='-1'></a>规范定义
在完成（1）数据调研以及（2）架构设计之后，我们需要解决（3）规范定义，这里的重点是“指标体系”，而指标体系的搭建要围绕数据集市和主题域。通常来讲，一个数据集市包含了分析和决策部门对公司某一事业线的关注重点，同时，一个数据集市也可以拆分成多个主题域，每个主题域关注一个业务主题。

比如，本公司一共有3条业务线：自助洗、高端洗、O2O。其中，自助洗可以拆分出来的主题域有：用户、设备、点位、运维等；高端洗可以拆分出来的主题域有：用户、设备、加工、配送等；而O2O可以拆分出来而主题域有：用户，加工，快递等。
###  5.1. <a name='-1'></a>指标体系
我们围绕组织架构将数据分成3层，分别为T1、T2、T3，其中T1是企业运营的数据，反应公司业务线运营目标，T2是部门策略性的数据，是T1数据的拆解，反应公司部门的策略，而T3是T2数据的拆解，通过可衡量的数据反映业务变化情况，反过来也依据数据调整业务。

- T1：GMV、用户数、设备数、合作商户数
- T2：
	- **用户主题**：新增用户数、新增充值用户数、新增活跃用户数、新增留存用户数、新增回流用户数；
	- **商户主题**：设备闲置率、设备服务评分、点位闲置率、点位服务评分、新增合约；
	- **经营主题**：客单价、消费频率、商品复购率、充值复购率、营销活动ROI；
	- **商品与服务主题**：商品数量、服务数量、采购数量、库存数量；
	- **BD主题**：拜访数量、高意向数量、签约数量、续约数量；
	- **工厂主题**：每日平均清洗衣物数、平均分拣时长、平均清洗时长、平均包装时长、平均超时订单比例；
	- **配送主题**：每日平均接单数量、平均配送时长、平均超时订单比例；
	- **售后主题**：投诉单量、待处理比例、平均处理时长，平均评分；
	- **运维主题**：维修数量、待处理比例，平均处理时长，平均保质时长。
- T3：
	- **用户主题**：登录流程拆解、注册流程拆解、下单流程拆解、充值流程拆解、同期群分析、用户-点位分析，用户性别分析；
	- **经营主题**：活动链接点击数，活动链接转发数，活动拉新数，活动带来的消费频次增长量、活动带来的消费单价变化量；
	- **工厂主题**：待入库衣物数量、待分拣衣物数量、正在加工衣物、距离爆仓时长、超时衣物数量；
	- **BD主题**：商务发展经理排名、签约各环节转化率；
	- **运维主题**：待维修设备数量、超时数量、预警设备数量；
	- **售后主题**：待处理事务数量、超时数量、服务评价得分。

##  6. <a name='-1'></a>模型设计
内容太多，这里只展示ADS层部分内容。

![模型设计](.\轻氧数据仓库建设_模型设计.jpg)