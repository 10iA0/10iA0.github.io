<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>Horseman, pass by.</title><meta charset=utf-8><meta name=description content="Ladder@Here are key points in DML language."><meta name=author content="Jihang XIAO"><link rel=canonical href=https://10iA0.github.io/blog/sql-in-10-minutes-/><meta property="og:title" content="SQL in 10 Minutes"><meta property="og:description" content="Here are key points in DML language."><meta property="og:type" content="article"><meta property="og:url" content="https://10iA0.github.io/blog/sql-in-10-minutes-/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2017-07-25T20:22:00+00:00"><meta property="article:modified_time" content="2017-07-25T20:22:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SQL in 10 Minutes"><meta name=twitter:description content="Here are key points in DML language."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blogs","item":"https://10iA0.github.io/blog/"},{"@type":"ListItem","position":3,"name":"SQL in 10 Minutes","item":"https://10iA0.github.io/blog/sql-in-10-minutes-/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SQL in 10 Minutes","name":"SQL in 10 Minutes","description":"Here are key points in DML language.\n","keywords":["SQL"],"articleBody":"Here are key points in DML language.\nDrop Tables if exists is used to drop existed tables. For example,\ndrop table if exists transaction_fact; Create Tables if not exists is used to create tables that were not created at the time of being; primary key, not null are used to condition a column value unique and non-duplicated; references is used to set up a foreign key refering to a primary key in another table. For example,\ncreate table if not exists transaction_fact ( trans_id serial primary key, cust_id integer not null references customer_dim(cust_dim), prod_id integer not null references product_dim(prod_id), vend_id integer not null references vendor_dim(vend_id), `date` date not null references data_dim(`date`), `time` time not null references time_dim(`time`), quantity integer not null, single_price decimal not null, total_price decimal not null ); check is used to check if the value in column is satisfied with the thresould. For example,\ncreate table if not exists date ( `date` date primary key, year integer not null check (year \u003e 0), month integer not null check (month \u003e 0), week integer not null check (week \u003e 0), day integer not null check (day \u003e 0), weekday integer not null check (weekday \u003e 0), is_weekend varchar not null ); Insert Records insert into date ( date, year, month, week, day, weekday, is_weekend ) values (%s, %s, %s, %s, %s, %s, %s) on conflict (date) do nothing; ","wordCount":"230","inLanguage":"en","datePublished":"2017-07-25T20:22:00Z","dateModified":"2017-07-25T20:22:00Z","author":{"@type":"Person","name":"Jihang XIAO"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://10iA0.github.io/blog/sql-in-10-minutes-/"},"publisher":{"@type":"Organization","name":"Horseman, pass by.","logo":{"@type":"ImageObject","url":"https://10iA0.github.io/favicon.ico"}}}</script><link rel=icon type=image/png href=/images/sun.png sizes=16x16><link rel=apple-touch-icon href=/images/sun.png><link rel=manifest href=/images/sun.png><link rel=stylesheet href=/css/main.min.64bc8c4cb2304e84167c1583fa1b5de80f6d5adc95abed2e616dea0ea5680e01.css integrity="sha256-ZLyMTLIwToQWfBWD+htd6A9tWtyVq+0uYW3qDqVoDgE=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c098d85b5396dec4707ea2cead1445b4dc2ff0fc56b8dbbd9049d0d1c50ad237.js></script>
<script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/></a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/>Home</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>Post</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/tags>Tags</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/about>About</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/10iA0><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-language"><a href=https://10iA0.github.io/zh/>中</a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>SQL in 10 Minutes</h1></header><p><small>July 25, 2017&nbsp;· 230 words&nbsp;· 2 min</small>
<small>·
<a href=https://10iA0.github.io/tags/sql/>SQL</a></small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#drop-tables>Drop Tables</a></li><li><a href=#create-tables>Create Tables</a></li><li><a href=#insert-records>Insert Records</a></li></ul></nav></div><section class=blog-content><p>Here are key points in DML language.</p><h2 id=drop-tables>Drop Tables</h2><ul><li><code>if exists</code> is used to drop existed tables.</li></ul><p>For example,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>exists</span> transaction_fact;
</span></span></code></pre></div><h2 id=create-tables>Create Tables</h2><ul><li><code>if not exists</code> is used to create tables that were not created at the time of being;</li><li><code>primary key</code>, <code>not null</code> are used to condition a column value unique and non-duplicated;</li><li><code>references</code> is used to set up a foreign key refering to a primary key in another table.</li></ul><p>For example,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>exists</span> transaction_fact
</span></span><span style=display:flex><span>    (
</span></span><span style=display:flex><span>        trans_id serial <span style=color:#66d9ef>primary</span> <span style=color:#66d9ef>key</span>,
</span></span><span style=display:flex><span>        cust_id integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>references</span> customer_dim(cust_dim),
</span></span><span style=display:flex><span>        prod_id integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>references</span> product_dim(prod_id),
</span></span><span style=display:flex><span>        vend_id integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>references</span> vendor_dim(vend_id),
</span></span><span style=display:flex><span>        <span style=color:#f92672>`</span>date<span style=color:#f92672>`</span> date <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>references</span> data_dim(<span style=color:#f92672>`</span>date<span style=color:#f92672>`</span>),
</span></span><span style=display:flex><span>        <span style=color:#f92672>`</span>time<span style=color:#f92672>`</span> time <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>references</span> time_dim(<span style=color:#f92672>`</span>time<span style=color:#f92672>`</span>),
</span></span><span style=display:flex><span>        quantity integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>        single_price decimal <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>        total_price decimal <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span>
</span></span><span style=display:flex><span>    );
</span></span></code></pre></div><ul><li><code>check</code> is used to check if the value in column is satisfied with the thresould.</li></ul><p>For example,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>table</span> <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>exists</span> date
</span></span><span style=display:flex><span>    (
</span></span><span style=display:flex><span>        <span style=color:#f92672>`</span>date<span style=color:#f92672>`</span> date <span style=color:#66d9ef>primary</span> <span style=color:#66d9ef>key</span>,
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>year</span> integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>check</span> (<span style=color:#66d9ef>year</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>month</span> integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>check</span> (<span style=color:#66d9ef>month</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>        week integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>check</span> (week <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>day</span> integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>check</span> (<span style=color:#66d9ef>day</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>        weekday integer <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> <span style=color:#66d9ef>check</span> (weekday <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>        is_weekend varchar <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>null</span> 
</span></span><span style=display:flex><span>    );
</span></span></code></pre></div><h2 id=insert-records>Insert Records</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> date
</span></span><span style=display:flex><span>    (
</span></span><span style=display:flex><span>        date,
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>year</span>,
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>month</span>,
</span></span><span style=display:flex><span>        week,
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>day</span>,
</span></span><span style=display:flex><span>        weekday,
</span></span><span style=display:flex><span>        is_weekend
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>values</span> (<span style=color:#f92672>%</span>s, <span style=color:#f92672>%</span>s, <span style=color:#f92672>%</span>s, <span style=color:#f92672>%</span>s, <span style=color:#f92672>%</span>s, <span style=color:#f92672>%</span>s, <span style=color:#f92672>%</span>s)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>on</span> conflict (date)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>do</span> <span style=color:#66d9ef>nothing</span>;
</span></span></code></pre></div></section><div class=paginator><a class=prev href=https://10iA0.github.io/blog/anaconda-installation/><span>&larr;&nbsp;&nbsp;</span><span>Anaconda Installation</span></a></div><div class=related-resources><h3>Related Resources</h3></div></article></div><footer class=footer><p>&copy; 2022 <a href=https://10iA0.github.io>Horseman, pass by.</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg></a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>