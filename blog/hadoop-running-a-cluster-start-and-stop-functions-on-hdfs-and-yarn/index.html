<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>Horseman, pass by.</title><meta charset=utf-8><meta name=description content="Ladder@Hadoop-Running a cluster-Start and stop functions on HDFS and YARN - Horseman, pass by."><meta name=author content="Jihang XIAO"><link rel=canonical href=https://10iA0.github.io/blog/hadoop-running-a-cluster-start-and-stop-functions-on-hdfs-and-yarn/><meta property="og:title" content="Hadoop-Running a cluster-Start and stop functions on HDFS and YARN"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://10iA0.github.io/blog/hadoop-running-a-cluster-start-and-stop-functions-on-hdfs-and-yarn/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-06-22T18:55:00+00:00"><meta property="article:modified_time" content="2021-06-22T18:55:00+00:00"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-running-a-cluster-start-and-stop-hdfs-and-yarn-automatically/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-running-a-cluster-configurate-a-cluster/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-running-a-cluster-write-sync-scripts/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-prerequisites-clone-3-systems-from-a-blueprint/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-prerequisites-prepare-a-server-as-blueprint-/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-running-a-cluster-start-and-stop-hdfs-and-yarn-automatically/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-running-a-cluster-configurate-a-cluster/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-running-a-cluster-write-sync-scripts/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-prerequisites-clone-3-systems-from-a-blueprint/"><meta property="og:see_also" content="https://10iA0.github.io/blog/hadoop-prerequisites-prepare-a-server-as-blueprint-/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hadoop-Running a cluster-Start and stop functions on HDFS and YARN"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blogs","item":"https://10iA0.github.io/blog/"},{"@type":"ListItem","position":3,"name":"Hadoop-Running a cluster-Start and stop functions on HDFS and YARN","item":"https://10iA0.github.io/blog/hadoop-running-a-cluster-start-and-stop-functions-on-hdfs-and-yarn/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hadoop-Running a cluster-Start and stop functions on HDFS and YARN","name":"Hadoop-Running a cluster-Start and stop functions on HDFS and YARN","description":"","keywords":["HDFS","YARN"],"articleBody":"Start HDFS Attention! The NameNode should be formatted only and only if the HDFS is firstlly started.\nOnce the HDFS was started and NameNode need to be formatted again, a new cluster id would be created. Then the new cluster id on NameNode and old cluster id on DataNode would be different so that it would report an erro. Hence, if the NameNode need be formatted again, the processing of NameNode and DataNode should be stopped before. Besides, the dictionary data and logs should be deleted before.\n[jihang@hadoop102 ~]$ hdfs namenode -format Start NameNode on hadoop102\n[jihang@hadoop102 hadoop-3.1.3]$ hdfs --daemon start namenode Start DataNode on hadoop102 hadoop103 hadoop104\n[jihang@hadoop102 hadoop-3.1.3]$ hdfs --daemon start datanode [jihang@hadoop103 hadoop-3.1.3]$ hdfs --daemon start datanode [jihang@hadoop104 hadoop-3.1.3]$ hdfs --daemon start datanode Start SecondaryNameNode on hadoop104\n[jihang@hadoop104 hadoop-3.1.3]$ hdfs --daemon start secondarynamenode Stop HDFS Replace stop with start on commands above.\nStart YARN Start ResourceManager on hadoop103\n[jihang@hadoop103 hadoop-3.1.3]$ yarn --daemon start resourcemanager Start NodeManager on hadoop102 hadoop103 hadoop104\n[jihang@hadoop102 hadoop-3.1.3]$ hdfs --daemon start nodemanager [jihang@hadoop102 hadoop-3.1.3]$ hdfs --daemon start nodemanager [jihang@hadoop102 hadoop-3.1.3]$ hdfs --daemon start nodemanager Stop YARN Replace stop with start on commands above.\n","wordCount":"190","inLanguage":"en","datePublished":"2021-06-22T18:55:00Z","dateModified":"2021-06-22T18:55:00Z","author":{"@type":"Person","name":"Jihang XIAO"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://10iA0.github.io/blog/hadoop-running-a-cluster-start-and-stop-functions-on-hdfs-and-yarn/"},"publisher":{"@type":"Organization","name":"Horseman, pass by.","logo":{"@type":"ImageObject","url":"https://10iA0.github.io/favicon.ico"}}}</script><link rel=icon type=image/png href=/images/sun.png sizes=16x16><link rel=apple-touch-icon href=/images/sun.png><link rel=manifest href=/images/sun.png><link rel=stylesheet href=/css/main.min.64bc8c4cb2304e84167c1583fa1b5de80f6d5adc95abed2e616dea0ea5680e01.css integrity="sha256-ZLyMTLIwToQWfBWD+htd6A9tWtyVq+0uYW3qDqVoDgE=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c098d85b5396dec4707ea2cead1445b4dc2ff0fc56b8dbbd9049d0d1c50ad237.js></script>
<script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/></a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/>Home</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives>Post</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/tags>Tags</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/about>About</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/10iA0><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-language"><a href=https://10iA0.github.io/zh/>中</a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>Hadoop-Running a cluster-Start and stop functions on HDFS and YARN</h1></header><p><small>June 22, 2021&nbsp;· 190 words&nbsp;· One minute</small>
<small>·
<a href=https://10iA0.github.io/tags/hdfs/>HDFS</a>
<a href=https://10iA0.github.io/tags/yarn/>YARN</a></small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#start-hdfs>Start HDFS</a></li><li><a href=#stop-hdfs>Stop HDFS</a></li><li><a href=#start-yarn>Start YARN</a></li><li><a href=#stop-yarn>Stop YARN</a></li></ul></nav></div><section class=blog-content><h2 id=start-hdfs>Start HDFS</h2><p><code>Attention!</code> The NameNode should be formatted only and only if the HDFS is firstlly started.</p><blockquote><p>Once the HDFS was started and NameNode need to be formatted again, a new cluster id would be created. Then the new cluster id on NameNode and old cluster id on DataNode would be different so that it would report an erro. Hence, if the NameNode need be formatted again, the processing of NameNode and DataNode should be stopped before. Besides, the dictionary <code>data</code> and <code>logs</code> should be deleted before.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop102 ~<span style=color:#f92672>]</span>$ hdfs namenode -format
</span></span></code></pre></div><p>Start NameNode on hadoop102</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop102 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start namenode
</span></span></code></pre></div><p>Start DataNode on hadoop102 hadoop103 hadoop104</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop102 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start datanode
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop103 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start datanode
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop104 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start datanode
</span></span></code></pre></div><p>Start SecondaryNameNode on hadoop104</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop104 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start secondarynamenode
</span></span></code></pre></div><h2 id=stop-hdfs>Stop HDFS</h2><p>Replace <code>stop</code> with <code>start</code> on commands above.</p><h2 id=start-yarn>Start YARN</h2><p>Start ResourceManager on hadoop103</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop103 hadoop-3.1.3<span style=color:#f92672>]</span>$ yarn --daemon start resourcemanager
</span></span></code></pre></div><p>Start NodeManager on hadoop102 hadoop103 hadoop104</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop102 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start nodemanager
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop102 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start nodemanager
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>jihang@hadoop102 hadoop-3.1.3<span style=color:#f92672>]</span>$ hdfs --daemon start nodemanager
</span></span></code></pre></div><h2 id=stop-yarn>Stop YARN</h2><p>Replace <code>stop</code> with <code>start</code> on commands above.</p></section><div class=paginator><a class=prev href=https://10iA0.github.io/blog/hadoop-running-a-cluster-start-and-stop-hdfs-and-yarn-automatically/><span>&larr;&nbsp;&nbsp;</span><span>Hadoop-Running a cluster-Start and stop HDFS and YARN automatically</span></a>
<a class=next href=https://10iA0.github.io/blog/hadoop-running-a-cluster-configurate-a-cluster/><span>Hadoop-Running a cluster-Configurate a cluster (Core, HDFS, MapReduce and YARN)</span><span>&nbsp;&nbsp;&rarr;</span></a></div><div class=related-resources><h3>Related Resources</h3><nav><ul><li><a href=/blog/hadoop-running-a-cluster-start-and-stop-hdfs-and-yarn-automatically/>Hadoop-Running a cluster-Start and stop HDFS and YARN automatically</a></li><li><a href=/blog/hadoop-running-a-cluster-configurate-a-cluster/>Hadoop-Running a cluster-Configurate a cluster (Core, HDFS, MapReduce and YARN)</a></li><li><a href=/blog/hadoop-running-a-cluster-write-sync-scripts/>Hadoop-Running a cluster-Write sync scripts</a></li><li><a href=/blog/hadoop-prerequisites-clone-3-systems-from-a-blueprint/>Hadoop-Prerequisites-Clone 3 systems from a blueprint</a></li><li><a href=/blog/hadoop-prerequisites-prepare-a-server-as-blueprint-/>Hadoop-Prerequisites-Prepare a server as blueprint</a></li></ul></nav><nav><ul><li><a href=/blog/hadoop-running-a-cluster-start-and-stop-hdfs-and-yarn-automatically/>Hadoop-Running a cluster-Start and stop HDFS and YARN automatically</a></li><li><a href=/blog/hadoop-running-a-cluster-configurate-a-cluster/>Hadoop-Running a cluster-Configurate a cluster (Core, HDFS, MapReduce and YARN)</a></li><li><a href=/blog/hadoop-running-a-cluster-write-sync-scripts/>Hadoop-Running a cluster-Write sync scripts</a></li><li><a href=/blog/hadoop-prerequisites-clone-3-systems-from-a-blueprint/>Hadoop-Prerequisites-Clone 3 systems from a blueprint</a></li><li><a href=/blog/hadoop-prerequisites-prepare-a-server-as-blueprint-/>Hadoop-Prerequisites-Prepare a server as blueprint</a></li></ul></nav></div></article></div><footer class=footer><p>&copy; 2022 <a href=https://10iA0.github.io>Horseman, pass by.</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg></a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>